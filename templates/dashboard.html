<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Records</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Medical Records - Patients</h1>

        <!-- Display Patients and Their Medicines -->
        <h2>All Patients</h2>
        <table border="1">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Surname</th>
                    <th>CNP</th>
                    <th>Birthday</th>
                    <th>Gender</th>
                    <th>Phone Number</th>
                    <th>Email</th>
                    <th>Medicine</th>
                    <th>Quantity</th>
                </tr>
            </thead>
            <tbody>
                {% for patient in patients %}
                    <tr>
                        <td>{{ patient.id }}</td>
                        <td>{{ patient.name }}</td>
                        <td>{{ patient.surname }}</td>
                        <td>{{ patient.cnp }}</td>
                        <td>{{ patient.birthday }}</td>
                        <td>{{ patient.gender }}</td>
                        <td>{{ patient.phone_number }}</td>
                        <td>{{ patient.email }}</td>
                        <td>{{ patient.medicine_name if patient.medicine_name else 'N/A' }}</td>
                        <td>{{ patient.quantity if patient.quantity else 'N/A' }}</td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="10">No patients found.</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        <!-- Add New Patient Form -->
        <h2>Add New Patient</h2>
        <form action="/add" method="POST">
            <label for="name">First Name:</label>
            <input type="text" id="name" name="name" required><br><br>

            <label for="surname">Last Name:</label>
            <input type="text" id="surname" name="surname" required><br><br>

            <label for="cnp">CNP:</label>
            <input type="text" id="cnp" name="cnp" required><br><br>

            <label for="birthday">Birthday:</label>
            <input type="date" id="birthday" name="birthday"><br><br>

            <label for="gender">Gender:</label>
            <select name="gender" id="gender">
                <option value="Male">Male</option>
                <option value="Female">Female</option>
            </select><br><br>

            <label for="phone_number">Phone Number:</label>
            <input type="text" id="phone_number" name="phone_number"><br><br>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email"><br><br>

            <button type="submit">Add Patient</button>
        </form>
    </div>
</body>
</html>
